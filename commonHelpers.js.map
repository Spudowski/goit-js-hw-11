{"version":3,"file":"commonHelpers.js","sources":["../src/js/image-search.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\n\ndocument.addEventListener('DOMContentLoaded', function() {\n    const form = document.getElementById('searchForm')\n    const input = document.getElementById('searchQuery')\n    const resultDiv = document.getElementById('results')\n    const loader = document.getElementById('loader');\n\n\n    form.addEventListener('submit', (evt) => {\n        evt.preventDefault();\n\n        const query = input.value;\n        const searchParams = new URLSearchParams({\n            key: '44808922-f3ebf9148f40a6c297279d5b7',\n            q: query,\n            image_type: 'photo',\n            orientation: 'horizontal',\n            safesearch: 'true'\n          });\n          \n        const url = `https://pixabay.com/api/?${searchParams}`;\n        loader.style.display = 'block';\n        resultDiv.innerHTML = '';\n\n        fetch(url)\n            .then((response) => {\n                if(!response.ok) {\n                    throw new Error(response.status);\n                }\n                return response.json();\n            })\n            .then(data => returnResult(data))\n            .catch(error => console.log(\"Error:\", error))\n            .finally(() => {\n                loader.style.display = 'none';\n            });\n    });\n\n    function returnResult(data) {\n        if(data.hits.length > 0) {\n            data.hits.forEach(hit => {\n                const card = document.createElement('div');\n                card.className = 'image-card';\n                card.innerHTML = \n                    `<a href=\"${hit.largeImageURL}\" class=\"gallery-item\">\n                        <img src=\"${hit.webformatURL}\" alt=\"${hit.tags}\">\n                    </a>\n                    <div class=\"info\">\n                        <div><p>Likes</p><span>${hit.likes}</span></div>\n                        <div><p>Views</p><span>${hit.views}</span></div>\n                        <div><p>Comments</p><span>${hit.comments}</span></div>\n                        <div><p>Downloads</p><span>${hit.downloads}</span></div>\n                    </div>`;\n                resultDiv.appendChild(card);\n            });\n\n            const lightbox = new SimpleLightbox('.gallery-item', {});\n                lightbox.refresh();\n        } else {\n            iziToast.error({\n                message: `Sorry, there are no images matching<br> your search query. Please try again!`,\n                progressBarColor: '#808080',\n                displayMode: 'replace',\n                position: 'topRight',\n                zindex: '999',\n                closeOnClick: 'true'\n            });\n        }\n    }\n})"],"names":["form","input","resultDiv","loader","evt","query","url","response","data","returnResult","error","hit","card","SimpleLightbox","iziToast"],"mappings":"2GAOA,SAAS,iBAAiB,mBAAoB,UAAW,CACrD,MAAMA,EAAO,SAAS,eAAe,YAAY,EAC3CC,EAAQ,SAAS,eAAe,aAAa,EAC7CC,EAAY,SAAS,eAAe,SAAS,EAC7CC,EAAS,SAAS,eAAe,QAAQ,EAG/CH,EAAK,iBAAiB,SAAWI,GAAQ,CACrCA,EAAI,eAAc,EAElB,MAAMC,EAAQJ,EAAM,MASdK,EAAM,4BARS,IAAI,gBAAgB,CACrC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACxB,CAAW,CAEiD,GACpDF,EAAO,MAAM,QAAU,QACvBD,EAAU,UAAY,GAEtB,MAAMI,CAAG,EACJ,KAAMC,GAAa,CAChB,GAAG,CAACA,EAAS,GACT,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MAChC,CAAa,EACA,KAAKC,GAAQC,EAAaD,CAAI,CAAC,EAC/B,MAAME,GAAS,QAAQ,IAAI,SAAUA,CAAK,CAAC,EAC3C,QAAQ,IAAM,CACXP,EAAO,MAAM,QAAU,MACvC,CAAa,CACb,CAAK,EAED,SAASM,EAAaD,EAAM,CACrBA,EAAK,KAAK,OAAS,GAClBA,EAAK,KAAK,QAAQG,GAAO,CACrB,MAAMC,EAAO,SAAS,cAAc,KAAK,EACzCA,EAAK,UAAY,aACjBA,EAAK,UACD,YAAYD,EAAI,aAAa;AAAA,oCACbA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA;AAAA,iDAGrBA,EAAI,KAAK;AAAA,iDACTA,EAAI,KAAK;AAAA,oDACNA,EAAI,QAAQ;AAAA,qDACXA,EAAI,SAAS;AAAA,4BAElDT,EAAU,YAAYU,CAAI,CAC1C,CAAa,EAEgB,IAAIC,EAAe,gBAAiB,CAAE,CAAA,EAC1C,QAAO,GAEpBC,EAAS,MAAM,CACX,QAAS,+EACT,iBAAkB,UAClB,YAAa,UACb,SAAU,WACV,OAAQ,MACR,aAAc,MAC9B,CAAa,CAER,CACL,CAAC"}